<!--The content below is only a placeholder and can be replaced.-->
<header></header>
<div class='container-fluid content'> <!-- container centers content on large screens -->
  <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>
  <div *ngFor="let item of allStations | paginate: { itemsPerPage: page_size, currentPage: page_number, totalItems: loaded_pages*page_size }"></div>
  <div class='row'>             <!-- responsive row has 12 columns by default -->
    <div class='col-md-3'>      <!-- uses 6 columns on medium and larger screens... -->
      <div class="card border-primary" [style.height.px]="window_height*0.6">
        <div class='card-header'>Catalog</div>
        <link href='https://fonts.googleapis.com/icon?family=Material+Icons' rel='stylesheet'>
        <div class='mat-app-background basic-container' style="overflow: auto">
          <app-events-tree (messageEvent)='getNotification($event)'></app-events-tree>
        </div>
      </div>
      <div class="card border-primary" [style.height.px]="window_height*0.35">
        <div class='card-header text-color' id='infoTime' *ngIf="eventHeader">{{eventHeader}}</div>
        <div style="overflow: auto" id="eventInfoCard" class="mb-0">
          <div class='card-body' style="padding:0px 20px;">
            <table class="table table-extra-condensed">
              <tbody>
                <tr>
                  <th scope="row">Magnitude</th>
                  <td>{{origin.magnitude}}</td>
                </tr>
                <tr>
                  <th scope="row">Location</th>
                  <td>X {{origin.x}} m East</td>
                </tr>
                <tr>
                  <th scope="row"></th>
                  <td>Y {{origin.y}} m North</td>
                </tr>
                <tr>
                  <th scope="row"></th>
                  <td>Z {{origin.z}} m</td>
                </tr>
                <tr>
                  <th scope="row">Picks</th>
                  <td>{{origin.npick}}</td>
                </tr>
                <tr>
                  <th scope="row">Type
                    <button mat-mini-fab id='toggleSaveEventType' matTooltip='Save Event Type and Status' class='btn btn-primary' data-toggle='button' aria-pressed='false' autocomplete='off'><mat-icon>save_alt</mat-icon></button>
                  </th>
                  <td>
                    <mat-form-field>
                      <mat-select [(ngModel)]="origin.event_type" (selectionChange)='onChangeEventType($event)'>
                        <mat-option *ngFor="let type of eventTypes" [value]="type.quakeml_type" matTooltip="{{type.viewValue}}">
                          {{type.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </td>
                </tr>
                <tr>
                  <th scope="row">Status
                    <button mat-mini-fab id='toggleSaveEventStatus' matTooltip='Save Event Type and Status' class='btn btn-primary' data-toggle='button' aria-pressed='false' autocomplete='off'><mat-icon>save_alt</mat-icon></button>
                  </th>
                  <td>
                    <mat-form-field>
                      <mat-select [(ngModel)]="origin.status" (selectionChange)='onChangeEvaluationStatus($event)'>
                        <mat-option *ngFor="let etype of evalTypes" [value]="etype.status">
                        {{etype.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </td>
                </tr>
                <tr>
                  <th scope="row">Mode</th>
                  <td>{{origin.mode}}</td>
                </tr>
                <tr *ngIf='origin.time_residual'>
                  <th scope="row">Time Residual</th>
                  <td>{{origin.time_residual}}</td>
                </tr>
                <tr *ngIf='origin.uncertainty'>
                  <th scope="row">Uncertainty</th>
                  <td>{{origin.uncertainty}}</td>
                </tr>
                <tr>
                  <td colspan="2" id='alertMsg' *ngIf='tracesInfo' class="alert alert-warning alert-dismissable">
                    <button type="button" class="close" (click)='tracesInfo = ""' aria-hidden="true">&times;</button>
                    {{tracesInfo}}
                  </td>
                </tr>
                <tr>
                  <td colspan="2" id='alertMessage' *ngIf='picksWarning' class="alert alert-warning alert-dismissable">
                    <button type="button" class="close" (click)='picksWarning = ""' aria-hidden="true">&times;</button>
                    {{picksWarning}}
                  </td>
                </tr>
                <tr *ngIf='origin.event_resource_id'>
                  <th scope="row">event_resource_id</th>
                  <td>{{origin.event_resource_id}}</td>
                </tr>
                <tr *ngIf='origin.preferred_origin_id'>
                  <th scope="row">preferred_origin_id</th>
                  <td>{{origin.preferred_origin_id}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div id='right-panel' class='col-md-9'>      <!-- uses 12 columns on smaller than medium screens -->
      <div id='toolbar' class='btn-toolbar' role='toolbar' aria-label='Toolbar' layout='row' style='position:fixed; display:-webkit-box;'>
          <button mat-mini-fab id='commonTime' matTooltip='Common Time Scale for All Channels' class='btn btn-primary active' data-toggle='button' aria-pressed='true' autocomplete='off'><mat-icon>more_horiz</mat-icon></button>
          <button mat-mini-fab id='commonAmplitude' matTooltip='Common Amplitude Scale for All Channels' class='btn btn-primary' data-toggle='button' aria-pressed='false' autocomplete='off'><mat-icon>more_vert</mat-icon></button>
          <button mat-mini-fab id='zoomAll' matTooltip='Zoom or Pan All Channels' class='btn btn-primary' data-toggle='button' aria-pressed='false' autocomplete='off'><mat-icon>link</mat-icon></button>
          <button mat-mini-fab matTooltip='Undo last Time Zoom or Pan' class='btn btn-primary' (click)='back()'><mat-icon>undo</mat-icon></button>
          <button mat-mini-fab matTooltip='Reset View after Zoom or Pan' class='btn btn-primary' (click)='resetAllChartsViewXY()'><mat-icon>settings_backup_restore</mat-icon></button>
          <button mat-mini-fab id='display3C' matTooltip='Display Composite or 3-Component Traces' class='btn btn-primary' data-toggle='button' aria-pressed='false' autocomplete='off'><mat-icon>filter_3</mat-icon></button>
          <button mat-mini-fab id='sortTraces' matTooltip='Sort Traces by Distance to Origin' class='btn btn-primary' data-toggle='button' aria-pressed='false' autocomplete='off'><mat-icon>sort</mat-icon></button>
          <button mat-mini-fab id='togglePredictedPicks' matTooltip='Toggle Predicted Picks' class='btn btn-primary active' data-toggle='button' aria-pressed='true' autocomplete='off'><mat-icon>blur_linear</mat-icon></button>
          <button mat-mini-fab id='togglePredictedPicksBias' matTooltip='Toggle Remove Predicted Picks Bias' class='btn btn-primary' data-toggle='button' aria-pressed='false' autocomplete='off'><mat-icon>compare_arrows</mat-icon></button>
          <div>
            <app-help-dialog></app-help-dialog>
          </div>
          <button mat-mini-fab id='applyFilter' matTooltip='Apply Filter' class='btn-toolbar btn btn-primary' (click)='applyFilter()'><mat-icon>redo</mat-icon></button>
          <div class = 'ml-5' fxLayout="row" fxLayoutGap="5px" fxLayoutAlign="start">
              <mat-form-field appearance="fill" class='input-form-width'>
                <mat-label>Low Corner</mat-label>
                <input matInput matTooltip="Butterworth Filter Low Corner Frequency" type="number" step="10" (change)='bFilterChanged = true' (keydown.numbers)='bFilterChanged = true' (keydown.enter)='bFilterChanged = true; applyFilter()' [(ngModel)]="lowFreqCorner" [ngModelOptions]="{standalone: true}">
              </mat-form-field>
              <mat-form-field appearance="fill" class='input-form-width'>
                <mat-label>High Corner</mat-label>
                <input matInput matTooltip="Butterworth Filter High Corner Frequency" type="number" step="100" (change)='bFilterChanged = true' (keydown.numbers)='bFilterChanged = true' (keydown.enter)='bFilterChanged = true; applyFilter()' [(ngModel)]="highFreqCorner" [ngModelOptions]="{standalone: true}">
              </mat-form-field>
              <mat-form-field appearance="fill" class='input-form-width-less'>
                <mat-label>Poles</mat-label>
                <input matInput matTooltip="Number of Poles for Butterworth Filter" type="number" (change)='bFilterChanged = true' (keydown.numbers)='bFilterChanged = true' (keydown.enter)='bFilterChanged = true; applyFilter()' [(ngModel)]="numPoles" [ngModelOptions]="{standalone: true}">
              </mat-form-field>
          </div>
          <div class = 'ml-5'>
          <mat-button-toggle-group name="pickingMode" aria-label="Picking Mode" matTooltip='Select Picking Mode P, S or None' #group='matButtonToggleGroup' [value]='pickingMode' (change)='onPickingModeChange(group.value)'>
            <mat-button-toggle value='P'><mat-icon class="mat-icon-scale" svgIcon="alpha-p"></mat-icon></mat-button-toggle>
            <mat-button-toggle value='S'><mat-icon class="mat-icon-scale" svgIcon="alpha-s"></mat-icon></mat-button-toggle>
            <mat-button-toggle value='none'><mat-icon>trip_origin</mat-icon></mat-button-toggle>
          </mat-button-toggle-group>
          <button mat-icon-button matTooltip='Undo Last Picking Operation' (click)='undoLastPicking()'><mat-icon>cached</mat-icon></button>
          </div>
          <pagination-controls class="pagination" (pageChange)="page_number = $event; changePage()"></pagination-controls>
      </div>
      <div id='waveform-panel' style='position: relative; top: 50px'>
        <div class='text-color' id='zeroTime' *ngIf="eventTimeOriginHeader">{{eventTimeOriginHeader}}</div>
        <mat-progress-bar mode="determinate" value="{{progressValue}}"></mat-progress-bar>
      </div>
    </div>
  </div>
</div>
<ul class='menu'>
  <li data-action='deleteP'>Delete P Pick</li>
  <li data-action='deleteS'>Delete S Pick</li>
  <li data-action='newP'>New P Pick</li>
  <li data-action='newS'>New S Pick</li>
  <li data-action='showTooltip'>Toggle Tooltip</li>
</ul>
<footer></footer>



